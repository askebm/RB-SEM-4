\documentclass[../../Main]{subfiles}
\begin{document}

\subsection{Results}
\label{sec:results}
In this section, the project results are presented. In section \ref{sec:PI} the tuning of the system model is \todo{done?}made, and the PI-gains $K_p$ and $T_i$ are found. The different controller gains are implemented on the real system, and the actual system responses are shown and compared
with the model response.

\subsubsection{Top Frame}
\label{sec:top_frame_results}

The following graphs \ref{fig:top_0}, \ref{fig:top_90} and \ref{fig:top_180} depicts the real, modeled and tuned real step responses.
It is observed that the stepresponses of the model against the stepresponses of the real
systems are not alike. The real system has a larger overshoot compared to the model.
Furthermore the real system is oscillating quite a lot. Based on the observed behavior
the system is hand tuned to better meet the requirements of the system. Though the
overshoot and oscillations are not able to be removed completely with a PI-controller
alone.


\begin{figure}[H]
  \def\svgwidth{\textwidth}
  \includesvg[\main/afsnit/result_and_discussion/img/]{0_top}
  \caption{Stepresponses of Topframe linearized in $0^{\circ}$}
  \label{fig:top_0}
\end{figure}


\begin{figure}[H]	
  \def\svgwidth{\textwidth}
  \includesvg[\main/afsnit/result_and_discussion/img/]{90_top}
  \caption{Stepresponses of Topframe linearized in $90^{\circ}$}
  \label{fig:top_90}
\end{figure}

\begin{figure}[H]
  \def\svgwidth{\textwidth}
  \includesvg[\main/afsnit/result_and_discussion/img/]{180_top}
  \caption{Stepresponses of Topframe linearized in $180^{\circ}$}
  \label{fig:top_180}
\end{figure}



\begin{table}[H]
	\centering
	\begin{tabular}{lc|*{3}{l}}
		&&Simulated&Model tuned&Manually tuned\\
		\hline
		Overshoot&[\%] &1.752&38.148&28.518\\
		Risetime&[\si{s}]&0.831&0.250&0.279\\
		Settling Time&[\si{s}]&1.319&15.402&8.560\\
		Kp&&1.6&1.6&1.9\\
		Ki&&0.32&0.32&5
	\end{tabular}
	\caption{System characteristics when linearized at $0^o$}
	\label{tab:0_top}
\end{table}


\begin{table}[H]
	\centering
	\begin{tabular}{lc|*{3}{l}}
		&&Simulated&Model tuned&Manually tuned\\
		\hline
		Overshoot&[\%]&2.560&27.407&25.185\\
		Risetime&[\si{s}]&0.988&0.258&0.244\\
		Settling Time&[\si{s}]&NaN&NaN&7.235\\
		Kp&&1.39&1.39&2.2\\
		Ki&&0.083&0.083&1.4
	\end{tabular}
	\caption{System characteristics when linearized at $90^o$}
	\label{tab:90_top}
\end{table}


\begin{table}[H]
	\centering
	\begin{tabular}{lc|*{3}{l}}
		&&Simulated&Model tuned&Manually tuned\\
		\hline
		Overshoot&[\%]&13.540&29.629&24.074\\
		Risetime&[\si{s}]&0.807&0.244&0.226\\
		Settling Time&[\si{s}]&10.868&NaN&11.281\\
		Kp&&1.3&1.3&2.3\\
		Ki&&0.26&0.26&1.8
	\end{tabular}
	\caption{System characteristics when linearized at $180^o$}
	\label{tab:180_top}
\end{table}



\subsubsection{Bottom Frame}%
\label{sec:bottom_frame_results}

In the same way as with the topframe in section \ref{sec:top_frame_results}, the results are shown in figure \ref{fig:bot_0} and \ref{fig:bot_90}.

\begin{figure}[H]
  \def\svgwidth{\textwidth}
  \includesvg[\main/afsnit/result_and_discussion/img/]{0_bot}
  \caption{Stepresponses of Bottomframe when topframe is at $0^o$.}
  \label{fig:bot_0}
\end{figure}

\begin{figure}[H]
 \def\svgwidth{\textwidth}
 \includesvg[\main/afsnit/result_and_discussion/img/]{90_bot}
  \caption{Stepresponses of Bottomframe when topframe is at $90^o$.}
  \label{fig:bot_90}
\end{figure}


\begin{table}[H]
	\centering
	\begin{tabular}{lc|*{3}{l}}
		&&Simulated&Model tuned&Manually tuned\\
		\hline
		Overshoot&[\%]&1.361&22.592&39.629\\
		Risetime&[\si{s}]& 1.018&0.353&0.417\\
		Settling Time&[\si{s}]& 1.653&NaN& 15.416\\
		Kp&&3.7&3.7&1.59\\
		Ki&&0.130&0.130&0.95
	\end{tabular}
	\caption{System characteristics when top frame is at $90^o$}
	\label{tab:90_bot}
\end{table}

\begin{table}[H]
	\centering
	\begin{tabular}{lc|*{3}{l}}
		&&Simulated&Model tuned&Manually tuned\\
		\hline
		Overshoot&[\%]&1.362&22.592&38.518\\
		Risetime&[\si{s}]&1.022&0.327&0.388\\
		Settling Time&[\si{s}]&1.658&NaN&15.425\\
		Kp&&3.7&3.7&1.59\\
		Ki&&0.130&0.130&0.95
	\end{tabular}
	\caption{System characteristics when top frame is at $0^o$}
	\label{tab:0_bot}
\end{table}

It is also observed that the tuned $K_i$ and $K_p$ values from the model, does not give an expected stepresponse. There is more overshoot compared to the model. The real system is tuned to give at better response, but as in section \ref{sec:top_frame_results} the system PI-controller alone cannot eliminate overshoot.

From the results it can be concluded that the modeled system was not close enough to the real system,to use it for tuning. Furthermore, even though it is not reflected in the model, the real system will benefit from a D-term in the controller, making it at PID-controller. The D-term will help dampen the overshoot, perhaps eliminating them all together. 
\end{document}
